{% extends 'finance_tracker/base.html' %} 
{% load crispy_forms_tags %}
{% crispy upload_form upload_form.helper %}

{% load static %} 

{% block content %}
<div class="mx-3 my-3">
    <h2>Finance Tracker</h2>
    <h5>Upload Your Monthly Bank Statements</h5>
</div>

{% comment %} ------------ Upload File Card ------------ {% endcomment %}
{% if user.is_authenticated %}
<div class="container d-flex justify-content-center align-items-center text-center mb-4">
    <div class="bg-light border rounded-3 shadow-sm p-5 mt-5" style="width: 650px;"> 
        <h1 style="margin-bottom: 60px;">Upload Your File</h1>
        <div>
            <div class="icons bi-4x d-flex justify-content-center mb-2">
                <i class="bi bi-filetype-csv"></i>
                <i class="bi bi-filetype-csv"></i>
                <i class="bi bi-filetype-csv"></i>
            </div>
            <div>
                {% csrf_token %}
                {% crispy upload_form %}
                <div id="fileTypeError" class="text-danger d-none"></div> 
            </div>
        </div>
    </div>
</div>
{% else %}
<div id="not_user_upload" class="container d-flex flex-column justify-content-center align-items-center border shadow-lg rounded-3 text-center m-5 py-5 bg-light mx-auto">
    <p class="text-dark">Please login to upload your bank statements!</p>
    <a href='{% url 'account_login' %}' class="btn btn-dark mt-2">Login</a>
</div>
{% endif %}
{% comment %} ------------ Upload File Card ------------ {% endcomment %}

{% endblock%}

{% block extra_js %}
<script src="{% static 'finance_tracker/js/upload.js' %}"></script>
{% endblock extra_js %}